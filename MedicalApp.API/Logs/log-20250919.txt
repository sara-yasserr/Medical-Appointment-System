2025-09-19 00:04:32.280 +03:00 [DBG] Connection id "0HNFMUM8UNAQF" accepted.
2025-09-19 00:04:32.658 +03:00 [DBG] Connection id "0HNFMUM8UNAQF" started.
2025-09-19 00:04:33.692 +03:00 [DBG] Connection 0HNFMUM8UNAQF established using the following protocol: "Tls12"
2025-09-19 00:04:33.876 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Auth/login - null null
2025-09-19 00:04:33.882 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-09-19 00:04:33.883 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:04:33.885 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:33.914 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:33.930 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:04:33.937 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Auth/login - 204 null null 61.2053ms
2025-09-19 00:04:33.960 +03:00 [INF] Request starting HTTP/2 POST https://localhost:57466/api/Auth/login - application/json 51
2025-09-19 00:04:33.992 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-09-19 00:04:33.994 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-09-19 00:04:34.002 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:04:34.003 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:34.006 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:34.008 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-19 00:04:34.010 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:04:34.011 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MedicalApp.BL.DTOs.AuthDTOs.LoginDTO) on controller MedicalApp.API.Controllers.AuthController (MedicalApp.API).
2025-09-19 00:04:34.014 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:34.017 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:34.019 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:34.024 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:34.026 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:34.029 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.AuthController (MedicalApp.API)
2025-09-19 00:04:34.034 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.AuthController (MedicalApp.API)
2025-09-19 00:04:34.037 +03:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' ...
2025-09-19 00:04:34.039 +03:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' using the name '' in request data ...
2025-09-19 00:04:34.043 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-19 00:04:34.047 +03:00 [DBG] Connection id "0HNFMUM8UNAQF", Request id "0HNFMUM8UNAQF:00000003": started reading request body.
2025-09-19 00:04:34.049 +03:00 [DBG] Connection id "0HNFMUM8UNAQF", Request id "0HNFMUM8UNAQF:00000003": done reading request body.
2025-09-19 00:04:34.051 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'
2025-09-19 00:04:34.053 +03:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:04:34.055 +03:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:04:34.059 +03:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' ...
2025-09-19 00:04:34.064 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:04:34.071 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:34.076 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:34.080 +03:00 [DBG] Created DbConnection. (3ms).
2025-09-19 00:04:34.082 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:34.096 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:34.098 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:34.100 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:34.103 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-19 00:04:34.106 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-19 00:04:34.336 +03:00 [INF] Executed DbCommand (230ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-19 00:04:34.361 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:34.371 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:34.430 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 69ms reading results.
2025-09-19 00:04:34.432 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:34.434 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:04:34.659 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:34.662 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:34.664 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:34.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:34.669 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-19 00:04:34.670 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-19 00:04:34.682 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-19 00:04:34.704 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:34.707 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 3ms reading results.
2025-09-19 00:04:34.714 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:34.717 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (3ms).
2025-09-19 00:04:34.720 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:34.763 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:34.765 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:34.767 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:34.768 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:34.771 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-19 00:04:34.777 +03:00 [INF] Executed action MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API) in 748.7844ms
2025-09-19 00:04:34.819 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:04:34.823 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:34.906 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:34.913 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-09-19 00:04:34.915 +03:00 [INF] Request finished HTTP/2 POST https://localhost:57466/api/Auth/login - 200 null application/json; charset=utf-8 954.9519ms
2025-09-19 00:04:35.876 +03:00 [INF] Request starting HTTP/2 POST https://localhost:57466/api/Auth/login - application/json 51
2025-09-19 00:04:35.881 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-09-19 00:04:35.883 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-09-19 00:04:35.886 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:04:35.888 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:35.890 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:35.896 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-19 00:04:35.898 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:04:35.900 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MedicalApp.BL.DTOs.AuthDTOs.LoginDTO) on controller MedicalApp.API.Controllers.AuthController (MedicalApp.API).
2025-09-19 00:04:35.903 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:35.905 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:35.912 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:35.915 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:35.918 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:35.920 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.AuthController (MedicalApp.API)
2025-09-19 00:04:35.922 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.AuthController (MedicalApp.API)
2025-09-19 00:04:35.929 +03:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' ...
2025-09-19 00:04:35.932 +03:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' using the name '' in request data ...
2025-09-19 00:04:35.935 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-19 00:04:35.938 +03:00 [DBG] Connection id "0HNFMUM8UNAQF", Request id "0HNFMUM8UNAQF:00000005": started reading request body.
2025-09-19 00:04:35.945 +03:00 [DBG] Connection id "0HNFMUM8UNAQF", Request id "0HNFMUM8UNAQF:00000005": done reading request body.
2025-09-19 00:04:36.020 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'
2025-09-19 00:04:36.068 +03:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:04:36.072 +03:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:04:36.081 +03:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' ...
2025-09-19 00:04:36.086 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:04:36.095 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:36.099 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:36.101 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-19 00:04:36.107 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:36.122 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:36.130 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:36.132 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:36.133 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:36.135 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-19 00:04:36.146 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-19 00:04:36.151 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:36.188 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:36.200 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 49ms reading results.
2025-09-19 00:04:36.203 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:36.208 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (5ms).
2025-09-19 00:04:36.465 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:36.488 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:36.490 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:36.514 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2025-09-19 00:04:36.516 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2025-09-19 00:04:36.518 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-19 00:04:36.535 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-19 00:04:36.538 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:36.544 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:36.547 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:36.549 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:04:36.552 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:36.556 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:36.563 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:36.565 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:36.567 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:36.571 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-19 00:04:36.579 +03:00 [INF] Executed action MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API) in 658.9949ms
2025-09-19 00:04:36.623 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:04:36.635 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:36.687 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:36.698 +03:00 [DBG] Disposed connection to database '' on server '' (11ms).
2025-09-19 00:04:36.703 +03:00 [INF] Request finished HTTP/2 POST https://localhost:57466/api/Auth/login - 200 null application/json; charset=utf-8 826.7209ms
2025-09-19 00:04:38.033 +03:00 [DBG] Connection id "0HNFMUM8UNAQF" received FIN.
2025-09-19 00:04:38.035 +03:00 [DBG] Connection id "0HNFMUM8UNAQF" is closed. The last processed stream ID was 5.
2025-09-19 00:04:38.035 +03:00 [DBG] The connection queue processing loop for 0HNFMUM8UNAQF completed.
2025-09-19 00:04:38.039 +03:00 [DBG] Connection id "0HNFMUM8UNAQF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-19 00:04:38.048 +03:00 [DBG] Connection id "0HNFMUM8UNAQF" stopped.
2025-09-19 00:04:38.428 +03:00 [DBG] Connection id "0HNFMUM8UNAQG" accepted.
2025-09-19 00:04:38.453 +03:00 [DBG] Connection id "0HNFMUM8UNAQG" started.
2025-09-19 00:04:38.457 +03:00 [DBG] Connection 0HNFMUM8UNAQG established using the following protocol: "Tls12"
2025-09-19 00:04:38.472 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Patient/patient-id - null null
2025-09-19 00:04:38.482 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/patient-id'
2025-09-19 00:04:38.482 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Patient/patient-id - null null
2025-09-19 00:04:38.483 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:04:38.487 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/patient-id'
2025-09-19 00:04:38.489 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:38.493 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:04:38.494 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:38.496 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:38.497 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:04:38.499 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:38.500 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Patient/patient-id - 204 null null 27.6553ms
2025-09-19 00:04:38.502 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:04:38.511 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Patient/patient-id - 204 null null 29.1162ms
2025-09-19 00:04:38.520 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Patient/patient-id - null null
2025-09-19 00:04:39.144 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/patient-id'
2025-09-19 00:04:39.145 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)' with route pattern 'api/Patient/patient-id' is valid for the request path '/api/Patient/patient-id'
2025-09-19 00:04:39.147 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:04:39.148 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:39.153 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:39.155 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:04:39.158 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:04:39.160 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:04:39.162 +03:00 [INF] Route matched with {action = "GetMyPatientId", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMyPatientId() on controller MedicalApp.API.Controllers.PatientController (MedicalApp.API).
2025-09-19 00:04:39.165 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:39.167 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:39.170 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:39.173 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:39.175 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:39.176 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.PatientController (MedicalApp.API)
2025-09-19 00:04:39.180 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.PatientController (MedicalApp.API)
2025-09-19 00:04:39.185 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:39.191 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:39.193 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-19 00:04:39.195 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.197 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.199 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.201 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:39.203 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:39.206 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userId_0
2025-09-19 00:04:39.218 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userId_0
2025-09-19 00:04:39.224 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.232 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.238 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 14ms reading results.
2025-09-19 00:04:39.241 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.242 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:39.245 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:39.248 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:39.250 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:39.251 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:39.252 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:39.254 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-09-19 00:04:39.257 +03:00 [INF] Executed action MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API) in 80.1609ms
2025-09-19 00:04:39.259 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:04:39.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Patient/patient-id - null null
2025-09-19 00:04:39.280 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:39.286 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/patient-id'
2025-09-19 00:04:39.286 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Appointment/patient/1/appointments - null null
2025-09-19 00:04:39.287 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.296 +03:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-09-19 00:04:39.294 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/patient/1/appointments'
2025-09-19 00:04:39.300 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:04:39.298 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Patient/patient-id - 200 null application/json; charset=utf-8 778.3825ms
2025-09-19 00:04:39.289 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)' with route pattern 'api/Patient/patient-id' is valid for the request path '/api/Patient/patient-id'
2025-09-19 00:04:39.302 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:39.316 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:04:39.318 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:39.319 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:39.320 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:04:39.321 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:39.322 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Appointment/patient/1/appointments - 204 null null 35.9744ms
2025-09-19 00:04:39.324 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:04:39.330 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:04:39.332 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:04:39.334 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Appointment/patient/1/appointments - null null
2025-09-19 00:04:39.335 +03:00 [INF] Route matched with {action = "GetMyPatientId", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMyPatientId() on controller MedicalApp.API.Controllers.PatientController (MedicalApp.API).
2025-09-19 00:04:39.339 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/patient/1/appointments'
2025-09-19 00:04:39.344 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:39.346 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)' with route pattern 'api/Appointment/patient/{patientId:int}/appointments' is valid for the request path '/api/Appointment/patient/1/appointments'
2025-09-19 00:04:39.348 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:39.349 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:04:39.351 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:39.352 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:39.354 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:39.356 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:39.358 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:39.359 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:04:39.360 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.PatientController (MedicalApp.API)
2025-09-19 00:04:39.361 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:04:39.363 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.PatientController (MedicalApp.API)
2025-09-19 00:04:39.365 +03:00 [DBG] Authorization was successful.
2025-09-19 00:04:39.367 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:39.367 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:04:39.370 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:39.371 +03:00 [INF] Route matched with {action = "GetPatientAppointments", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetPatientAppointments(Int32) on controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API).
2025-09-19 00:04:39.372 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-19 00:04:39.375 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:39.376 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.378 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:39.380 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.382 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:39.384 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.386 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:39.388 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-19 00:04:39.390 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:39.391 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-19 00:04:39.393 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:04:39.395 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userId_0
2025-09-19 00:04:39.397 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:04:39.402 +03:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' ...
2025-09-19 00:04:39.402 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userId_0
2025-09-19 00:04:39.403 +03:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' using the name 'patientId' in request data ...
2025-09-19 00:04:39.406 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.408 +03:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:04:39.410 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.411 +03:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:04:39.413 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 7ms reading results.
2025-09-19 00:04:39.415 +03:00 [DBG] Attempting to validate the bound parameter 'patientId' of type 'System.Int32' ...
2025-09-19 00:04:39.417 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.419 +03:00 [DBG] Done attempting to validate the bound parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:04:39.420 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (3ms).
2025-09-19 00:04:39.423 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:39.424 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:39.427 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:39.430 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:39.431 +03:00 [DBG] Created DbConnection. (4ms).
2025-09-19 00:04:39.432 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:39.433 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.434 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:39.436 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.437 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:39.438 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.440 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-09-19 00:04:39.441 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:39.442 +03:00 [INF] Executed action MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API) in 81.9164ms
2025-09-19 00:04:39.446 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-19 00:04:39.448 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:04:39.449 +03:00 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[PatientId] = @__patientId_0
2025-09-19 00:04:39.450 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:39.459 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.462 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-19 00:04:39.463 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Patient/patient-id - 200 null application/json; charset=utf-8 197.3313ms
2025-09-19 00:04:39.465 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[PatientId] = @__patientId_0
2025-09-19 00:04:39.471 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.473 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.475 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.477 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.479 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.481 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.483 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 12ms reading results.
2025-09-19 00:04:39.489 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.491 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:04:39.495 +03:00 [DBG] The navigation 'AppointmentProxy.Doctor' is being lazy-loaded.
2025-09-19 00:04:39.498 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.500 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.505 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.507 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:39.515 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-19 00:04:39.517 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:39.524 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:39.528 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.530 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.532 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.534 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:39.536 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.538 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:04:39.541 +03:00 [DBG] The navigation 'DoctorProxy.User' is being lazy-loaded.
2025-09-19 00:04:39.543 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.546 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.548 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.549 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:39.551 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:39.553 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:39.561 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:39.564 +03:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.566 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.568 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.571 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:39.573 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.574 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:39.576 +03:00 [DBG] The navigation 'AppointmentProxy.Patient' is being lazy-loaded.
2025-09-19 00:04:39.578 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.580 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.581 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.582 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:39.583 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:39.585 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:39.591 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:39.594 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.595 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.597 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.599 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.601 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.603 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.604 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.605 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 11ms reading results.
2025-09-19 00:04:39.607 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.608 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:39.610 +03:00 [DBG] The navigation 'PatientProxy.User' is being lazy-loaded.
2025-09-19 00:04:39.612 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.614 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.616 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.618 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:39.620 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:39.622 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:39.629 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:39.632 +03:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.634 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.635 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.636 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 4ms reading results.
2025-09-19 00:04:39.638 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.639 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:39.641 +03:00 [DBG] The navigation 'AppointmentProxy.Doctor' is being lazy-loaded.
2025-09-19 00:04:39.643 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.645 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.646 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.647 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:39.648 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:39.650 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:39.655 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:39.658 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.659 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.661 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.663 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.664 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.666 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.667 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 9ms reading results.
2025-09-19 00:04:39.669 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.670 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:39.672 +03:00 [DBG] The navigation 'DoctorProxy.User' is being lazy-loaded.
2025-09-19 00:04:39.673 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.675 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.676 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.678 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:39.679 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:39.681 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:39.688 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:39.691 +03:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.693 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.695 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.697 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:39.700 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.702 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:39.704 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:39.707 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:39.708 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:39.710 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:39.711 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:39.713 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MedicalApp.BL.DTOs.AppointmentDTOs.ReadAppointmentDTO, MedicalApp.BL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-19 00:04:39.715 +03:00 [INF] Executed action MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API) in 321.7481ms
2025-09-19 00:04:39.717 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:04:39.719 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:39.720 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Appointment/patient/1/appointments - null null
2025-09-19 00:04:39.720 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.724 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/patient/1/appointments'
2025-09-19 00:04:39.725 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-19 00:04:39.731 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Appointment/patient/1/appointments - 200 null application/json; charset=utf-8 396.6755ms
2025-09-19 00:04:39.727 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)' with route pattern 'api/Appointment/patient/{patientId:int}/appointments' is valid for the request path '/api/Appointment/patient/1/appointments'
2025-09-19 00:04:39.739 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:04:39.741 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:39.744 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:39.748 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:04:39.749 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:04:39.751 +03:00 [DBG] Authorization was successful.
2025-09-19 00:04:39.753 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:04:39.755 +03:00 [INF] Route matched with {action = "GetPatientAppointments", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetPatientAppointments(Int32) on controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API).
2025-09-19 00:04:39.762 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:39.764 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:39.766 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:39.768 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:39.770 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:39.772 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:04:39.775 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:04:39.778 +03:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' ...
2025-09-19 00:04:39.780 +03:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' using the name 'patientId' in request data ...
2025-09-19 00:04:39.782 +03:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:04:39.784 +03:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:04:39.786 +03:00 [DBG] Attempting to validate the bound parameter 'patientId' of type 'System.Int32' ...
2025-09-19 00:04:39.788 +03:00 [DBG] Done attempting to validate the bound parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:04:39.793 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:39.796 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:39.798 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-19 00:04:39.799 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.801 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.803 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.805 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:39.811 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-19 00:04:39.813 +03:00 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[PatientId] = @__patientId_0
2025-09-19 00:04:39.819 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[PatientId] = @__patientId_0
2025-09-19 00:04:39.826 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.828 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.829 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.831 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.832 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.834 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.835 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 10ms reading results.
2025-09-19 00:04:39.837 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.839 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:39.845 +03:00 [DBG] The navigation 'AppointmentProxy.Doctor' is being lazy-loaded.
2025-09-19 00:04:39.846 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.848 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.851 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.852 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:39.854 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:39.855 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:39.866 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:39.869 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.870 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.872 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.877 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 8ms reading results.
2025-09-19 00:04:39.879 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.881 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:04:39.884 +03:00 [DBG] The navigation 'DoctorProxy.User' is being lazy-loaded.
2025-09-19 00:04:39.885 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.887 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.888 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.893 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-09-19 00:04:39.895 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-09-19 00:04:39.897 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:39.904 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:39.911 +03:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.914 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.915 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.917 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:39.918 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.920 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:39.922 +03:00 [DBG] The navigation 'AppointmentProxy.Patient' is being lazy-loaded.
2025-09-19 00:04:39.924 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.929 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.931 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.932 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:39.934 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:39.935 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:39.942 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:39.948 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.949 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.951 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.953 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.955 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.963 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.964 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.966 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 18ms reading results.
2025-09-19 00:04:39.968 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.969 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:39.971 +03:00 [DBG] The navigation 'PatientProxy.User' is being lazy-loaded.
2025-09-19 00:04:39.973 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.975 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.977 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:39.978 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:39.979 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:39.980 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:39.988 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:39.992 +03:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.993 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:39.995 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:39.998 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:40.000 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:40.002 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:40.004 +03:00 [DBG] The navigation 'AppointmentProxy.Doctor' is being lazy-loaded.
2025-09-19 00:04:40.006 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:40.009 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:40.011 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:40.012 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:40.014 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:40.016 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:40.022 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:40.025 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:40.027 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:40.029 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:40.031 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:40.033 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:40.035 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:40.038 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 12ms reading results.
2025-09-19 00:04:40.040 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:40.042 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:04:40.044 +03:00 [DBG] The navigation 'DoctorProxy.User' is being lazy-loaded.
2025-09-19 00:04:40.047 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:40.049 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:40.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:40.054 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:40.055 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-19 00:04:40.058 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:40.062 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:40.066 +03:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:40.068 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:40.071 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:40.073 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 7ms reading results.
2025-09-19 00:04:40.076 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:40.078 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:04:40.080 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:40.084 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:40.085 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:40.087 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:40.088 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:40.090 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MedicalApp.BL.DTOs.AppointmentDTOs.ReadAppointmentDTO, MedicalApp.BL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-19 00:04:40.094 +03:00 [INF] Executed action MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API) in 322.1032ms
2025-09-19 00:04:40.096 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:04:40.097 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:40.162 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:40.165 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-09-19 00:04:40.168 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Appointment/patient/1/appointments - 200 null application/json; charset=utf-8 447.6446ms
2025-09-19 00:04:45.065 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Auth/login - null null
2025-09-19 00:04:45.071 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-09-19 00:04:45.076 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:04:45.078 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:45.080 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:45.081 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:04:45.082 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Auth/login - 204 null null 17.2041ms
2025-09-19 00:04:45.085 +03:00 [INF] Request starting HTTP/2 POST https://localhost:57466/api/Auth/login - application/json 50
2025-09-19 00:04:45.094 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-09-19 00:04:45.096 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-09-19 00:04:45.098 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:04:45.099 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:45.101 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:45.102 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-19 00:04:45.104 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:04:45.106 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MedicalApp.BL.DTOs.AuthDTOs.LoginDTO) on controller MedicalApp.API.Controllers.AuthController (MedicalApp.API).
2025-09-19 00:04:45.109 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:45.112 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:45.114 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:45.116 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:45.118 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:45.120 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.AuthController (MedicalApp.API)
2025-09-19 00:04:45.123 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.AuthController (MedicalApp.API)
2025-09-19 00:04:45.126 +03:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' ...
2025-09-19 00:04:45.128 +03:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' using the name '' in request data ...
2025-09-19 00:04:45.130 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-19 00:04:45.132 +03:00 [DBG] Connection id "0HNFMUM8UNAQG", Request id "0HNFMUM8UNAQG:00000011": started reading request body.
2025-09-19 00:04:45.134 +03:00 [DBG] Connection id "0HNFMUM8UNAQG", Request id "0HNFMUM8UNAQG:00000011": done reading request body.
2025-09-19 00:04:45.136 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'
2025-09-19 00:04:45.137 +03:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:04:45.141 +03:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:04:45.143 +03:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' ...
2025-09-19 00:04:45.145 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:04:45.148 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:45.152 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:45.153 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-19 00:04:45.156 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:45.158 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:45.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:45.161 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:45.163 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:45.165 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-19 00:04:45.180 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-19 00:04:45.184 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:45.186 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:45.191 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:45.193 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:45.195 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:45.374 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:45.377 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:45.379 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:45.380 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:45.382 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:45.384 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-19 00:04:45.392 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-19 00:04:45.395 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:45.397 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 2ms reading results.
2025-09-19 00:04:45.400 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:45.402 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:45.404 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:45.408 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:45.409 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:45.411 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:45.412 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:45.413 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-19 00:04:45.415 +03:00 [INF] Executed action MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API) in 295.2048ms
2025-09-19 00:04:45.418 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:04:45.420 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:45.436 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:45.445 +03:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-09-19 00:04:45.448 +03:00 [INF] Request finished HTTP/2 POST https://localhost:57466/api/Auth/login - 200 null application/json; charset=utf-8 363.1625ms
2025-09-19 00:04:45.894 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Doctor/doctor-id - null null
2025-09-19 00:04:45.894 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Doctor/doctor-id - null null
2025-09-19 00:04:45.901 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Doctor/doctor-id'
2025-09-19 00:04:45.914 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Doctor/doctor-id'
2025-09-19 00:04:45.916 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:04:45.917 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:04:45.919 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:45.921 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:45.929 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:45.930 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:45.931 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:04:45.932 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:04:45.934 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Doctor/doctor-id - 204 null null 39.9002ms
2025-09-19 00:04:45.935 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Doctor/doctor-id - 204 null null 40.6377ms
2025-09-19 00:04:45.945 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Doctor/doctor-id - null null
2025-09-19 00:04:45.963 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Doctor/doctor-id'
2025-09-19 00:04:45.965 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.DoctorController.GetMyDoctorId (MedicalApp.API)' with route pattern 'api/Doctor/doctor-id' is valid for the request path '/api/Doctor/doctor-id'
2025-09-19 00:04:45.967 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.DoctorController.GetMyDoctorId (MedicalApp.API)'
2025-09-19 00:04:45.969 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:45.970 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:45.976 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:04:45.978 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:04:45.980 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.DoctorController.GetMyDoctorId (MedicalApp.API)'
2025-09-19 00:04:45.984 +03:00 [INF] Route matched with {action = "GetMyDoctorId", controller = "Doctor"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMyDoctorId() on controller MedicalApp.API.Controllers.DoctorController (MedicalApp.API).
2025-09-19 00:04:45.987 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:45.992 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:45.994 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:45.996 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:45.998 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:46.000 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.DoctorController (MedicalApp.API)
2025-09-19 00:04:46.002 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.DoctorController (MedicalApp.API)
2025-09-19 00:04:46.014 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:46.017 +03:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .FirstOrDefault(d => d.UserId == __userId_0)'
2025-09-19 00:04:46.036 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Doctor>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Doctor.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.Specialization (string) Required, 1], [Property: Doctor.UserId (string) Required FK Index, 2] }
        SELECT TOP(1) d.Id, d.Specialization, d.UserId
        FROM Doctors AS d
        WHERE d.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Doctor.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.Specialization (string) Required, 1], [Property: Doctor.UserId (string) Required FK Index, 2] }
        SELECT TOP(1) d.Id, d.Specialization, d.UserId
        FROM Doctors AS d
        WHERE d.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Doctor entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Doctor instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Doctor);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Doctor.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Doctor").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Doctor)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Doctor")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Doctor")]: 
                        {
                            return (Doctor)
                            {
                                DoctorProxy instance;
                                DbContext namelessParameter{2};
                                IEntityType namelessParameter{3};
                                ILazyLoader namelessParameter{4};
                                namelessParameter{2} = materializationContext1.Context;
                                namelessParameter{3} = (IEntityType)ParameterBindingInfo.StructuralType;
                                namelessParameter{4} = InfrastructureExtensions.GetService<ILazyLoader>((IInfrastructure<IServiceProvider>)materializationContext1.Context);
                                instance = (DoctorProxy)ProxyFactory.CreateLazyLoadingProxy(
                                    context: namelessParameter{2}, 
                                    entityType: namelessParameter{3}, 
                                    loader: namelessParameter{4}, 
                                    constructorArguments: new object[]{ });
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Specialization>k__BackingField = dataReader.GetString(1);
                                instance.<UserId>k__BackingField = dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Doctor")]) : default(void);
                                (namelessParameter{2} is IInjectableService) ? ((IInjectableService)namelessParameter{2}).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Doctor")]) : default(void);
                                (namelessParameter{3} is IInjectableService) ? ((IInjectableService)namelessParameter{3}).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Doctor")]) : default(void);
                                (namelessParameter{4} is IInjectableService) ? ((IInjectableService)namelessParameter{4}).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Doctor")]) : default(void);
                                return instance;
                            };
                        }
                    default: 
                        default(Doctor)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: MedicalApp.DA.Models.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2025-09-19 00:04:46.066 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:46.081 +03:00 [DBG] Created DbConnection. (15ms).
2025-09-19 00:04:46.088 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.093 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:46.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:46.101 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-19 00:04:46.121 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[UserId] = @__userId_0
2025-09-19 00:04:46.129 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[UserId] = @__userId_0
2025-09-19 00:04:46.133 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.136 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.137 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 4ms reading results.
2025-09-19 00:04:46.141 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.144 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:04:46.147 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:46.152 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:46.153 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:46.155 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:46.157 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:46.159 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-09-19 00:04:46.161 +03:00 [INF] Executed action MedicalApp.API.Controllers.DoctorController.GetMyDoctorId (MedicalApp.API) in 161.8528ms
2025-09-19 00:04:46.164 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.DoctorController.GetMyDoctorId (MedicalApp.API)'
2025-09-19 00:04:46.166 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:46.168 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.170 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-19 00:04:46.173 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Doctor/doctor-id - 200 null application/json; charset=utf-8 227.5191ms
2025-09-19 00:04:46.176 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Doctor/doctor-id - null null
2025-09-19 00:04:46.176 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Appointment/doctor/3/appointments - null null
2025-09-19 00:04:46.181 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Doctor/doctor-id'
2025-09-19 00:04:46.185 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/doctor/3/appointments'
2025-09-19 00:04:46.187 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.DoctorController.GetMyDoctorId (MedicalApp.API)' with route pattern 'api/Doctor/doctor-id' is valid for the request path '/api/Doctor/doctor-id'
2025-09-19 00:04:46.192 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.DoctorController.GetMyDoctorId (MedicalApp.API)'
2025-09-19 00:04:46.189 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:04:46.194 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:46.198 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:46.209 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:04:46.211 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:04:46.196 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:46.214 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.DoctorController.GetMyDoctorId (MedicalApp.API)'
2025-09-19 00:04:46.218 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:46.219 +03:00 [INF] Route matched with {action = "GetMyDoctorId", controller = "Doctor"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMyDoctorId() on controller MedicalApp.API.Controllers.DoctorController (MedicalApp.API).
2025-09-19 00:04:46.223 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:04:46.227 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Appointment/doctor/3/appointments - 204 null null 50.9611ms
2025-09-19 00:04:46.226 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:46.234 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:46.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Appointment/doctor/3/appointments - null null
2025-09-19 00:04:46.236 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:46.240 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/doctor/3/appointments'
2025-09-19 00:04:46.243 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:46.244 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.AppointmentController.GetDoctorAppointments (MedicalApp.API)' with route pattern 'api/Appointment/doctor/{doctorId:int}/appointments' is valid for the request path '/api/Appointment/doctor/3/appointments'
2025-09-19 00:04:46.246 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:46.250 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.AppointmentController.GetDoctorAppointments (MedicalApp.API)'
2025-09-19 00:04:46.251 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.DoctorController (MedicalApp.API)
2025-09-19 00:04:46.253 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:46.265 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.DoctorController (MedicalApp.API)
2025-09-19 00:04:46.267 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:46.272 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:46.280 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:04:46.301 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:04:46.301 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:46.303 +03:00 [DBG] Authorization was successful.
2025-09-19 00:04:46.304 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-19 00:04:46.305 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.AppointmentController.GetDoctorAppointments (MedicalApp.API)'
2025-09-19 00:04:46.307 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.311 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.313 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:46.314 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:46.316 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:46.315 +03:00 [INF] Route matched with {action = "GetDoctorAppointments", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDoctorAppointments(Int32) on controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API).
2025-09-19 00:04:46.323 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:46.319 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[UserId] = @__userId_0
2025-09-19 00:04:46.381 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:46.386 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:46.393 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:46.395 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:46.398 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:04:46.411 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:04:46.414 +03:00 [DBG] Attempting to bind parameter 'doctorId' of type 'System.Int32' ...
2025-09-19 00:04:46.416 +03:00 [DBG] Attempting to bind parameter 'doctorId' of type 'System.Int32' using the name 'doctorId' in request data ...
2025-09-19 00:04:46.418 +03:00 [DBG] Done attempting to bind parameter 'doctorId' of type 'System.Int32'.
2025-09-19 00:04:46.419 +03:00 [DBG] Done attempting to bind parameter 'doctorId' of type 'System.Int32'.
2025-09-19 00:04:46.426 +03:00 [DBG] Attempting to validate the bound parameter 'doctorId' of type 'System.Int32' ...
2025-09-19 00:04:46.436 +03:00 [DBG] Done attempting to validate the bound parameter 'doctorId' of type 'System.Int32'.
2025-09-19 00:04:46.445 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:46.449 +03:00 [DBG] Compiling query expression: 
'DbSet<Appointment>()
    .Where(a => a.DoctorId == __doctorId_0)'
2025-09-19 00:04:46.495 +03:00 [INF] Executed DbCommand (177ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[UserId] = @__userId_0
2025-09-19 00:04:46.497 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Appointment>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.AppointmentDate (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required FK Index, 2], [Property: Appointment.PatientId (int) Required FK Index, 3], [Property: Appointment.Reason (string) Required, 4], [Property: Appointment.Status (Status) Required, 5] }
        SELECT a.Id, a.AppointmentDate, a.DoctorId, a.PatientId, a.Reason, a.Status
        FROM Appointments AS a
        WHERE a.DoctorId == @__doctorId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.AppointmentDate (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required FK Index, 2], [Property: Appointment.PatientId (int) Required FK Index, 3], [Property: Appointment.Reason (string) Required, 4], [Property: Appointment.Status (Status) Required, 5] }
        SELECT a.Id, a.AppointmentDate, a.DoctorId, a.PatientId, a.Reason, a.Status
        FROM Appointments AS a
        WHERE a.DoctorId == @__doctorId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Appointment entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Appointment instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Appointment);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Appointment.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Appointment").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Appointment)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Appointment | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Appointment")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Appointment | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Appointment")]: 
                        {
                            return (Appointment)
                            {
                                AppointmentProxy instance;
                                DbContext namelessParameter{2};
                                IEntityType namelessParameter{3};
                                ILazyLoader namelessParameter{4};
                                namelessParameter{2} = materializationContext1.Context;
                                namelessParameter{3} = (IEntityType)ParameterBindingInfo.StructuralType;
                                namelessParameter{4} = InfrastructureExtensions.GetService<ILazyLoader>((IInfrastructure<IServiceProvider>)materializationContext1.Context);
                                instance = (AppointmentProxy)ProxyFactory.CreateLazyLoadingProxy(
                                    context: namelessParameter{2}, 
                                    entityType: namelessParameter{3}, 
                                    loader: namelessParameter{4}, 
                                    constructorArguments: new object[]{ });
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<AppointmentDate>k__BackingField = dataReader.GetDateTime(1);
                                instance.<DoctorId>k__BackingField = dataReader.GetInt32(2);
                                instance.<PatientId>k__BackingField = dataReader.GetInt32(3);
                                instance.<Reason>k__BackingField = dataReader.GetString(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<Status, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Appointment.Status (Status) Required | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Appointment").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Appointment | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Appointment")]) : default(void);
                                (namelessParameter{2} is IInjectableService) ? ((IInjectableService)namelessParameter{2}).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Appointment | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Appointment")]) : default(void);
                                (namelessParameter{3} is IInjectableService) ? ((IInjectableService)namelessParameter{3}).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Appointment | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Appointment")]) : default(void);
                                (namelessParameter{4} is IInjectableService) ? ((IInjectableService)namelessParameter{4}).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Appointment | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("MedicalApp.DA.Models.Appointment")]) : default(void);
                                return instance;
                            };
                        }
                    default: 
                        default(Appointment)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: MedicalApp.DA.Models.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-09-19 00:04:46.499 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.515 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.518 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:46.518 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 19ms reading results.
2025-09-19 00:04:46.522 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.519 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-19 00:04:46.527 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (4ms).
2025-09-19 00:04:46.528 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.530 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:46.535 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:46.536 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:46.536 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:46.537 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:46.531 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.545 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-09-19 00:04:46.547 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:46.549 +03:00 [INF] Executed action MedicalApp.API.Controllers.DoctorController.GetMyDoctorId (MedicalApp.API) in 297.6659ms
2025-09-19 00:04:46.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (93ms).
2025-09-19 00:04:46.641 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.DoctorController.GetMyDoctorId (MedicalApp.API)'
2025-09-19 00:04:46.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (147ms).
2025-09-19 00:04:46.695 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:46.697 +03:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctorId_0
2025-09-19 00:04:46.703 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.710 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctorId_0
2025-09-19 00:04:46.712 +03:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-09-19 00:04:46.716 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.718 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Doctor/doctor-id - 200 null application/json; charset=utf-8 541.9448ms
2025-09-19 00:04:46.720 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.726 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.728 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.730 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.732 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.734 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 18ms reading results.
2025-09-19 00:04:46.736 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.738 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:46.741 +03:00 [DBG] The navigation 'AppointmentProxy.Doctor' is being lazy-loaded.
2025-09-19 00:04:46.743 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.745 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.749 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:46.750 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:46.752 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:46.753 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:46.758 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:46.760 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.761 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.763 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.764 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.766 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.768 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.770 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.773 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 12ms reading results.
2025-09-19 00:04:46.775 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.777 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:46.779 +03:00 [DBG] The navigation 'DoctorProxy.User' is being lazy-loaded.
2025-09-19 00:04:46.782 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.784 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.786 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:46.787 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:46.789 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:46.791 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:46.798 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:46.803 +03:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.806 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.808 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.810 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 7ms reading results.
2025-09-19 00:04:46.813 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.814 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:46.817 +03:00 [DBG] The navigation 'AppointmentProxy.Patient' is being lazy-loaded.
2025-09-19 00:04:46.819 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.821 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.823 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:46.824 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:46.826 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:46.828 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:46.834 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:46.838 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.840 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.842 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.844 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.846 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.848 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.850 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 12ms reading results.
2025-09-19 00:04:46.852 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.853 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:46.856 +03:00 [DBG] The navigation 'PatientProxy.User' is being lazy-loaded.
2025-09-19 00:04:46.858 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.860 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.862 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:46.863 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:46.865 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:46.867 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:46.875 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:46.879 +03:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.881 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.883 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.885 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:46.887 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.889 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:46.892 +03:00 [DBG] The navigation 'AppointmentProxy.Patient' is being lazy-loaded.
2025-09-19 00:04:46.894 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.896 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.898 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:46.900 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:46.902 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:46.904 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:46.910 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:46.914 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.916 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.918 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.920 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:46.922 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.924 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:46.927 +03:00 [DBG] The navigation 'PatientProxy.User' is being lazy-loaded.
2025-09-19 00:04:46.929 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.931 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.933 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:46.934 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:46.936 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:46.939 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:46.945 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:46.948 +03:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.950 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:46.952 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.954 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:46.956 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.959 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:04:46.961 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:46.965 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:46.967 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:46.968 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:46.969 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:46.972 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MedicalApp.BL.DTOs.AppointmentDTOs.ReadAppointmentDTO, MedicalApp.BL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-19 00:04:46.974 +03:00 [INF] Executed action MedicalApp.API.Controllers.AppointmentController.GetDoctorAppointments (MedicalApp.API) in 575.5501ms
2025-09-19 00:04:46.976 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.AppointmentController.GetDoctorAppointments (MedicalApp.API)'
2025-09-19 00:04:46.978 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:46.978 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Appointment/doctor/3/appointments - null null
2025-09-19 00:04:46.979 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:46.982 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/doctor/3/appointments'
2025-09-19 00:04:46.984 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-09-19 00:04:46.987 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Appointment/doctor/3/appointments - 200 null application/json; charset=utf-8 752.0782ms
2025-09-19 00:04:46.985 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.AppointmentController.GetDoctorAppointments (MedicalApp.API)' with route pattern 'api/Appointment/doctor/{doctorId:int}/appointments' is valid for the request path '/api/Appointment/doctor/3/appointments'
2025-09-19 00:04:46.993 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.AppointmentController.GetDoctorAppointments (MedicalApp.API)'
2025-09-19 00:04:46.994 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:04:46.996 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:04:46.997 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:04:46.998 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:04:47.000 +03:00 [DBG] Authorization was successful.
2025-09-19 00:04:47.001 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.AppointmentController.GetDoctorAppointments (MedicalApp.API)'
2025-09-19 00:04:47.003 +03:00 [INF] Route matched with {action = "GetDoctorAppointments", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDoctorAppointments(Int32) on controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API).
2025-09-19 00:04:47.006 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:04:47.011 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:04:47.014 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:04:47.017 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:04:47.019 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:04:47.026 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:04:47.028 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:04:47.031 +03:00 [DBG] Attempting to bind parameter 'doctorId' of type 'System.Int32' ...
2025-09-19 00:04:47.033 +03:00 [DBG] Attempting to bind parameter 'doctorId' of type 'System.Int32' using the name 'doctorId' in request data ...
2025-09-19 00:04:47.036 +03:00 [DBG] Done attempting to bind parameter 'doctorId' of type 'System.Int32'.
2025-09-19 00:04:47.042 +03:00 [DBG] Done attempting to bind parameter 'doctorId' of type 'System.Int32'.
2025-09-19 00:04:47.079 +03:00 [DBG] Attempting to validate the bound parameter 'doctorId' of type 'System.Int32' ...
2025-09-19 00:04:47.082 +03:00 [DBG] Done attempting to validate the bound parameter 'doctorId' of type 'System.Int32'.
2025-09-19 00:04:47.085 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:04:47.094 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:04:47.096 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-19 00:04:47.097 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.100 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.101 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:47.103 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:47.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-09-19 00:04:47.111 +03:00 [DBG] Executing DbCommand [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctorId_0
2025-09-19 00:04:47.117 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[DoctorId] = @__doctorId_0
2025-09-19 00:04:47.120 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.126 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.128 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.130 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.131 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.133 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.135 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 14ms reading results.
2025-09-19 00:04:47.139 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.141 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:04:47.144 +03:00 [DBG] The navigation 'AppointmentProxy.Doctor' is being lazy-loaded.
2025-09-19 00:04:47.146 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.148 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.149 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:47.151 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:47.153 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:47.157 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:47.163 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:04:47.167 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.169 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.174 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.176 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.178 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.182 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.184 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.187 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 20ms reading results.
2025-09-19 00:04:47.193 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.195 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:47.198 +03:00 [DBG] The navigation 'DoctorProxy.User' is being lazy-loaded.
2025-09-19 00:04:47.201 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.252 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.255 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:47.256 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:47.257 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:47.260 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:47.269 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:47.272 +03:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.274 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.276 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.278 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 5ms reading results.
2025-09-19 00:04:47.279 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.281 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:47.284 +03:00 [DBG] The navigation 'AppointmentProxy.Patient' is being lazy-loaded.
2025-09-19 00:04:47.285 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.310 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.312 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:47.313 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-19 00:04:47.315 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:47.316 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:47.616 +03:00 [INF] Executed DbCommand (299ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:47.629 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.631 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.633 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.635 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.637 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.639 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.641 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 11ms reading results.
2025-09-19 00:04:47.643 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.645 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:47.647 +03:00 [DBG] The navigation 'PatientProxy.User' is being lazy-loaded.
2025-09-19 00:04:47.650 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.652 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.654 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:47.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:47.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:04:47.659 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:47.675 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:47.678 +03:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.680 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.682 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.684 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:47.686 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.688 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:47.691 +03:00 [DBG] The navigation 'AppointmentProxy.Patient' is being lazy-loaded.
2025-09-19 00:04:47.693 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.744 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.746 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:47.747 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:47.749 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:47.750 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:47.762 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:04:47.765 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.767 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.769 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.771 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 5ms reading results.
2025-09-19 00:04:47.773 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.775 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:47.778 +03:00 [DBG] The navigation 'PatientProxy.User' is being lazy-loaded.
2025-09-19 00:04:47.780 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.783 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.784 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:04:47.786 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:04:47.787 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:04:47.789 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:47.803 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:04:47.807 +03:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.809 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:04:47.811 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.813 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:04:47.815 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.817 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:04:47.819 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:04:47.823 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:04:47.824 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:04:47.825 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:04:47.826 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:04:47.829 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MedicalApp.BL.DTOs.AppointmentDTOs.ReadAppointmentDTO, MedicalApp.BL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-19 00:04:47.831 +03:00 [INF] Executed action MedicalApp.API.Controllers.AppointmentController.GetDoctorAppointments (MedicalApp.API) in 805.3659ms
2025-09-19 00:04:47.833 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.AppointmentController.GetDoctorAppointments (MedicalApp.API)'
2025-09-19 00:04:47.835 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:04:47.836 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:04:47.838 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-19 00:04:47.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Appointment/doctor/3/appointments - 200 null application/json; charset=utf-8 862.1995ms
2025-09-19 00:04:48.044 +03:00 [DBG] Connection id "0HNFMUM8UNAQG" received FIN.
2025-09-19 00:04:48.048 +03:00 [DBG] Connection id "0HNFMUM8UNAQG" is closed. The last processed stream ID was 31.
2025-09-19 00:04:48.048 +03:00 [DBG] The connection queue processing loop for 0HNFMUM8UNAQG completed.
2025-09-19 00:04:48.050 +03:00 [DBG] Connection id "0HNFMUM8UNAQG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-19 00:04:48.062 +03:00 [DBG] Connection id "0HNFMUM8UNAQG" stopped.
2025-09-19 00:07:21.848 +03:00 [DBG] Connection id "0HNFMUM8UNAQH" accepted.
2025-09-19 00:07:21.856 +03:00 [DBG] Connection id "0HNFMUM8UNAQH" started.
2025-09-19 00:07:21.859 +03:00 [DBG] Connection 0HNFMUM8UNAQH established using the following protocol: "Tls12"
2025-09-19 00:07:21.861 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Auth/login - null null
2025-09-19 00:07:21.869 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-09-19 00:07:21.872 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:07:21.874 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:07:21.876 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:07:21.878 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:07:21.880 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Auth/login - 204 null null 19.1392ms
2025-09-19 00:07:21.885 +03:00 [INF] Request starting HTTP/2 POST https://localhost:57466/api/Auth/login - application/json 51
2025-09-19 00:07:21.896 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-09-19 00:07:21.897 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-09-19 00:07:21.900 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:07:21.901 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:07:21.902 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:07:21.960 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-19 00:07:21.980 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:07:21.984 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MedicalApp.BL.DTOs.AuthDTOs.LoginDTO) on controller MedicalApp.API.Controllers.AuthController (MedicalApp.API).
2025-09-19 00:07:21.999 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:07:22.002 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:07:22.005 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:07:22.008 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:07:22.013 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:07:22.015 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.AuthController (MedicalApp.API)
2025-09-19 00:07:22.018 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.AuthController (MedicalApp.API)
2025-09-19 00:07:22.019 +03:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' ...
2025-09-19 00:07:22.021 +03:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' using the name '' in request data ...
2025-09-19 00:07:22.023 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-19 00:07:22.025 +03:00 [DBG] Connection id "0HNFMUM8UNAQH", Request id "0HNFMUM8UNAQH:00000003": started reading request body.
2025-09-19 00:07:22.027 +03:00 [DBG] Connection id "0HNFMUM8UNAQH", Request id "0HNFMUM8UNAQH:00000003": done reading request body.
2025-09-19 00:07:22.029 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'
2025-09-19 00:07:22.031 +03:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:07:22.032 +03:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:07:22.034 +03:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO' ...
2025-09-19 00:07:22.036 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'MedicalApp.BL.DTOs.AuthDTOs.LoginDTO'.
2025-09-19 00:07:22.038 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:07:22.041 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:07:22.042 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-19 00:07:22.044 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.046 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.047 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:22.049 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:22.050 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:22.052 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-19 00:07:22.066 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-19 00:07:22.070 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:22.072 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.075 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 4ms reading results.
2025-09-19 00:07:22.077 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.078 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:22.202 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.204 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.206 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:22.208 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:22.209 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:22.211 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-19 00:07:22.219 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-19 00:07:22.222 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.224 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 1ms reading results.
2025-09-19 00:07:22.226 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.228 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:22.231 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:07:22.234 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:07:22.236 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:07:22.237 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:07:22.238 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:07:22.240 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-19 00:07:22.242 +03:00 [INF] Executed action MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API) in 226.3197ms
2025-09-19 00:07:22.243 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.AuthController.Login (MedicalApp.API)'
2025-09-19 00:07:22.245 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:07:22.247 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.249 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-19 00:07:22.252 +03:00 [INF] Request finished HTTP/2 POST https://localhost:57466/api/Auth/login - 200 null application/json; charset=utf-8 367.0765ms
2025-09-19 00:07:22.561 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Patient/patient-id - null null
2025-09-19 00:07:22.561 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Patient/patient-id - null null
2025-09-19 00:07:22.587 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/patient-id'
2025-09-19 00:07:22.591 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/patient-id'
2025-09-19 00:07:22.592 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:07:22.594 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:07:22.596 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:07:22.598 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:07:22.603 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:07:22.604 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:07:22.606 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:07:22.607 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:07:22.608 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Patient/patient-id - 204 null null 47.2373ms
2025-09-19 00:07:22.610 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Patient/patient-id - 204 null null 48.2839ms
2025-09-19 00:07:22.610 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Patient/patient-id - null null
2025-09-19 00:07:22.627 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/patient-id'
2025-09-19 00:07:22.628 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)' with route pattern 'api/Patient/patient-id' is valid for the request path '/api/Patient/patient-id'
2025-09-19 00:07:22.630 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:07:22.632 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:07:22.639 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:07:22.640 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:07:22.641 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:07:22.642 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:07:22.643 +03:00 [INF] Route matched with {action = "GetMyPatientId", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMyPatientId() on controller MedicalApp.API.Controllers.PatientController (MedicalApp.API).
2025-09-19 00:07:22.647 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:07:22.648 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:07:22.652 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:07:22.654 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:07:22.656 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:07:22.658 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.PatientController (MedicalApp.API)
2025-09-19 00:07:22.661 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.PatientController (MedicalApp.API)
2025-09-19 00:07:22.663 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:07:22.666 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:07:22.668 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-19 00:07:22.670 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.672 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.673 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:22.675 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:22.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:22.678 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userId_0
2025-09-19 00:07:22.682 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userId_0
2025-09-19 00:07:22.685 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:22.687 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.689 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 4ms reading results.
2025-09-19 00:07:22.691 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.693 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:22.696 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:07:22.701 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:07:22.702 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:07:22.705 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:07:22.706 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:07:22.708 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-09-19 00:07:22.710 +03:00 [INF] Executed action MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API) in 52.0482ms
2025-09-19 00:07:22.713 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:07:22.714 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:07:22.722 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.724 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Patient/patient-id - null null
2025-09-19 00:07:22.724 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-19 00:07:22.729 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:57466/api/Appointment/patient/1/appointments - null null
2025-09-19 00:07:22.741 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Patient/patient-id'
2025-09-19 00:07:22.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Patient/patient-id - 200 null application/json; charset=utf-8 132.6126ms
2025-09-19 00:07:22.746 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/patient/1/appointments'
2025-09-19 00:07:22.748 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)' with route pattern 'api/Patient/patient-id' is valid for the request path '/api/Patient/patient-id'
2025-09-19 00:07:22.764 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-09-19 00:07:22.769 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:07:22.771 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:07:22.772 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:07:22.774 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:07:22.775 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:07:22.776 +03:00 [DBG] The request is a preflight request.
2025-09-19 00:07:22.778 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:07:22.778 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:57466/api/Appointment/patient/1/appointments - 204 null null 49.5747ms
2025-09-19 00:07:22.781 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:07:22.790 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Appointment/patient/1/appointments - null null
2025-09-19 00:07:22.798 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/patient/1/appointments'
2025-09-19 00:07:22.794 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:07:22.804 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)' with route pattern 'api/Appointment/patient/{patientId:int}/appointments' is valid for the request path '/api/Appointment/patient/1/appointments'
2025-09-19 00:07:22.806 +03:00 [INF] Route matched with {action = "GetMyPatientId", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMyPatientId() on controller MedicalApp.API.Controllers.PatientController (MedicalApp.API).
2025-09-19 00:07:22.808 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:07:22.810 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:07:22.812 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:07:22.814 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:07:22.815 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:07:22.821 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:07:22.822 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:07:22.825 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:07:22.826 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:07:22.828 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:07:22.830 +03:00 [DBG] Authorization was successful.
2025-09-19 00:07:22.832 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.PatientController (MedicalApp.API)
2025-09-19 00:07:22.836 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:07:22.838 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.PatientController (MedicalApp.API)
2025-09-19 00:07:22.839 +03:00 [INF] Route matched with {action = "GetPatientAppointments", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetPatientAppointments(Int32) on controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API).
2025-09-19 00:07:22.842 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:07:22.846 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:07:22.853 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:07:22.855 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:07:22.856 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-19 00:07:22.858 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:07:22.860 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.863 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:07:22.865 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.869 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:07:22.871 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:22.874 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:07:22.875 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-09-19 00:07:22.879 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:07:22.881 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-19 00:07:22.887 +03:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' ...
2025-09-19 00:07:22.888 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userId_0
2025-09-19 00:07:22.891 +03:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' using the name 'patientId' in request data ...
2025-09-19 00:07:22.894 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__userId_0
2025-09-19 00:07:22.896 +03:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:07:22.899 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:22.901 +03:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:07:22.903 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.905 +03:00 [DBG] Attempting to validate the bound parameter 'patientId' of type 'System.Int32' ...
2025-09-19 00:07:22.907 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 8ms reading results.
2025-09-19 00:07:22.908 +03:00 [DBG] Done attempting to validate the bound parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:07:22.911 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.913 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:07:22.914 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (3ms).
2025-09-19 00:07:22.918 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:07:22.920 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:07:22.921 +03:00 [DBG] Created DbConnection. (3ms).
2025-09-19 00:07:22.924 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:07:22.926 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.927 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:07:22.929 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.931 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:07:22.933 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:22.934 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:07:22.938 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-09-19 00:07:22.936 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:07:22.943 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-19 00:07:22.940 +03:00 [INF] Executed action MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API) in 108.3085ms
2025-09-19 00:07:22.945 +03:00 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[PatientId] = @__patientId_0
2025-09-19 00:07:22.947 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.PatientController.GetMyPatientId (MedicalApp.API)'
2025-09-19 00:07:22.951 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:07:22.953 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.955 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-09-19 00:07:22.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Patient/patient-id - 200 null application/json; charset=utf-8 234.4856ms
2025-09-19 00:07:22.958 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[PatientId] = @__patientId_0
2025-09-19 00:07:22.966 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:22.968 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:22.971 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:22.974 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:22.976 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:22.978 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.980 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 13ms reading results.
2025-09-19 00:07:22.984 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.986 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (2ms).
2025-09-19 00:07:22.989 +03:00 [DBG] The navigation 'AppointmentProxy.Doctor' is being lazy-loaded.
2025-09-19 00:07:22.991 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.993 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:22.995 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:22.996 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.072 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (76ms).
2025-09-19 00:07:23.075 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:07:23.082 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:07:23.090 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.091 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.094 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.095 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 5ms reading results.
2025-09-19 00:07:23.097 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.098 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:23.104 +03:00 [DBG] The navigation 'DoctorProxy.User' is being lazy-loaded.
2025-09-19 00:07:23.105 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.106 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.108 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.110 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.111 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:23.113 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.124 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.131 +03:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.140 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.142 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.144 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 13ms reading results.
2025-09-19 00:07:23.145 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.146 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:23.149 +03:00 [DBG] The navigation 'AppointmentProxy.Patient' is being lazy-loaded.
2025-09-19 00:07:23.172 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.173 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.175 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.176 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.177 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:07:23.179 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:07:23.214 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:07:23.223 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.239 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.240 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.242 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.243 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.245 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.247 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.252 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 29ms reading results.
2025-09-19 00:07:23.255 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.257 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:23.259 +03:00 [DBG] The navigation 'PatientProxy.User' is being lazy-loaded.
2025-09-19 00:07:23.261 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.263 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.265 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.267 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.268 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:23.270 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.274 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.277 +03:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.278 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.280 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.282 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 5ms reading results.
2025-09-19 00:07:23.284 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.286 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:23.288 +03:00 [DBG] The navigation 'AppointmentProxy.Doctor' is being lazy-loaded.
2025-09-19 00:07:23.290 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.292 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.293 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.295 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.296 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:23.298 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:07:23.302 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:07:23.305 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.306 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.308 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.310 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.311 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.313 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.315 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 10ms reading results.
2025-09-19 00:07:23.317 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.319 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:23.321 +03:00 [DBG] The navigation 'DoctorProxy.User' is being lazy-loaded.
2025-09-19 00:07:23.323 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.325 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.327 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.330 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:23.332 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.337 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.340 +03:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.342 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.344 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.346 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 5ms reading results.
2025-09-19 00:07:23.348 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.350 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:23.353 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:07:23.356 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:07:23.357 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:07:23.358 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:07:23.359 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:07:23.361 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MedicalApp.BL.DTOs.AppointmentDTOs.ReadAppointmentDTO, MedicalApp.BL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-19 00:07:23.363 +03:00 [INF] Executed action MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API) in 489.7645ms
2025-09-19 00:07:23.366 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:07:23.367 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:07:23.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57466/api/Appointment/patient/1/appointments - null null
2025-09-19 00:07:23.398 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.405 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Appointment/patient/1/appointments'
2025-09-19 00:07:23.407 +03:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-09-19 00:07:23.408 +03:00 [DBG] Endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)' with route pattern 'api/Appointment/patient/{patientId:int}/appointments' is valid for the request path '/api/Appointment/patient/1/appointments'
2025-09-19 00:07:23.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Appointment/patient/1/appointments - 200 null application/json; charset=utf-8 620.5752ms
2025-09-19 00:07:23.412 +03:00 [DBG] Request matched endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:07:23.421 +03:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-19 00:07:23.422 +03:00 [INF] CORS policy execution successful.
2025-09-19 00:07:23.424 +03:00 [DBG] Successfully validated the token.
2025-09-19 00:07:23.425 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-19 00:07:23.426 +03:00 [DBG] Authorization was successful.
2025-09-19 00:07:23.427 +03:00 [INF] Executing endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:07:23.429 +03:00 [INF] Route matched with {action = "GetPatientAppointments", controller = "Appointment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetPatientAppointments(Int32) on controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API).
2025-09-19 00:07:23.432 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-19 00:07:23.436 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-19 00:07:23.438 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-19 00:07:23.441 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-19 00:07:23.443 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-19 00:07:23.445 +03:00 [DBG] Executing controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:07:23.447 +03:00 [DBG] Executed controller factory for controller MedicalApp.API.Controllers.AppointmentController (MedicalApp.API)
2025-09-19 00:07:23.448 +03:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' ...
2025-09-19 00:07:23.453 +03:00 [DBG] Attempting to bind parameter 'patientId' of type 'System.Int32' using the name 'patientId' in request data ...
2025-09-19 00:07:23.455 +03:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:07:23.457 +03:00 [DBG] Done attempting to bind parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:07:23.458 +03:00 [DBG] Attempting to validate the bound parameter 'patientId' of type 'System.Int32' ...
2025-09-19 00:07:23.460 +03:00 [DBG] Done attempting to validate the bound parameter 'patientId' of type 'System.Int32'.
2025-09-19 00:07:23.462 +03:00 [DBG] Entity Framework Core 9.0.9 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.9' with options: using lazy loading proxies EngineType=SqlServer 
2025-09-19 00:07:23.466 +03:00 [DBG] Creating DbConnection.
2025-09-19 00:07:23.468 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-19 00:07:23.470 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.471 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.473 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.474 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.476 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:23.478 +03:00 [DBG] Executing DbCommand [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[PatientId] = @__patientId_0
2025-09-19 00:07:23.488 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AppointmentDate], [a].[DoctorId], [a].[PatientId], [a].[Reason], [a].[Status]
FROM [Appointments] AS [a]
WHERE [a].[PatientId] = @__patientId_0
2025-09-19 00:07:23.499 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.503 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.505 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.507 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.509 +03:00 [DBG] Context 'AppDbContext' started tracking 'Appointment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.511 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.512 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 13ms reading results.
2025-09-19 00:07:23.514 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.518 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (3ms).
2025-09-19 00:07:23.520 +03:00 [DBG] The navigation 'AppointmentProxy.Doctor' is being lazy-loaded.
2025-09-19 00:07:23.522 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.524 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.526 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.527 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.529 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:23.530 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:07:23.548 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:07:23.554 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.555 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.557 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.559 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 4ms reading results.
2025-09-19 00:07:23.564 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.567 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (3ms).
2025-09-19 00:07:23.570 +03:00 [DBG] The navigation 'DoctorProxy.User' is being lazy-loaded.
2025-09-19 00:07:23.572 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.574 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.579 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.580 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.582 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:23.589 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.614 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.624 +03:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.629 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.631 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.647 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 22ms reading results.
2025-09-19 00:07:23.649 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.654 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (5ms).
2025-09-19 00:07:23.656 +03:00 [DBG] The navigation 'AppointmentProxy.Patient' is being lazy-loaded.
2025-09-19 00:07:23.658 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.663 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.668 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:23.670 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-19 00:07:23.671 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:07:23.676 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[DateOfBirth], [p].[UserId]
FROM [Patients] AS [p]
WHERE [p].[Id] = @__p_0
2025-09-19 00:07:23.678 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.680 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.687 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.689 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.694 +03:00 [DBG] The navigation 'Appointment.Patient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.695 +03:00 [DBG] Context 'AppDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.697 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.699 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 20ms reading results.
2025-09-19 00:07:23.701 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.703 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:23.705 +03:00 [DBG] The navigation 'PatientProxy.User' is being lazy-loaded.
2025-09-19 00:07:23.707 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.709 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.711 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.712 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.714 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-09-19 00:07:23.716 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.721 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.724 +03:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.726 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.727 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.729 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 5ms reading results.
2025-09-19 00:07:23.731 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.733 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:23.734 +03:00 [DBG] The navigation 'AppointmentProxy.Doctor' is being lazy-loaded.
2025-09-19 00:07:23.736 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.738 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.740 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.741 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.743 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:07:23.744 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:07:23.749 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Specialization], [d].[UserId]
FROM [Doctors] AS [d]
WHERE [d].[Id] = @__p_0
2025-09-19 00:07:23.751 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.753 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.755 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.756 +03:00 [DBG] The navigation 'Appointment.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.758 +03:00 [DBG] Context 'AppDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.760 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.761 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 10ms reading results.
2025-09-19 00:07:23.764 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.766 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:23.768 +03:00 [DBG] The navigation 'DoctorProxy.User' is being lazy-loaded.
2025-09-19 00:07:23.770 +03:00 [DBG] Opening connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.772 +03:00 [DBG] Opened connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.773 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-19 00:07:23.774 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-19 00:07:23.776 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-19 00:07:23.777 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.782 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-09-19 00:07:23.785 +03:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.786 +03:00 [DBG] Context 'AppDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-19 00:07:23.789 +03:00 [DBG] Closing data reader to 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.791 +03:00 [DBG] A data reader for 'MedicalAppDB' on server '.' is being disposed after spending 6ms reading results.
2025-09-19 00:07:23.793 +03:00 [DBG] Closing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.795 +03:00 [DBG] Closed connection to database 'MedicalAppDB' on server '.' (1ms).
2025-09-19 00:07:23.796 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-19 00:07:23.799 +03:00 [DBG] No information found on request to perform content negotiation.
2025-09-19 00:07:23.800 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-19 00:07:23.801 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-19 00:07:23.803 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-19 00:07:23.804 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MedicalApp.BL.DTOs.AppointmentDTOs.ReadAppointmentDTO, MedicalApp.BL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-19 00:07:23.806 +03:00 [INF] Executed action MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API) in 361.5798ms
2025-09-19 00:07:23.809 +03:00 [INF] Executed endpoint 'MedicalApp.API.Controllers.AppointmentController.GetPatientAppointments (MedicalApp.API)'
2025-09-19 00:07:23.810 +03:00 [DBG] 'AppDbContext' disposed.
2025-09-19 00:07:23.812 +03:00 [DBG] Disposing connection to database 'MedicalAppDB' on server '.'.
2025-09-19 00:07:23.813 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-19 00:07:23.815 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57466/api/Appointment/patient/1/appointments - 200 null application/json; charset=utf-8 446.2122ms
2025-09-19 00:07:28.289 +03:00 [DBG] Connection id "0HNFMUM8UNAQH" received FIN.
2025-09-19 00:07:28.426 +03:00 [DBG] Connection id "0HNFMUM8UNAQH" is closed. The last processed stream ID was 17.
2025-09-19 00:07:28.426 +03:00 [DBG] The connection queue processing loop for 0HNFMUM8UNAQH completed.
2025-09-19 00:07:28.429 +03:00 [DBG] Connection id "0HNFMUM8UNAQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-19 00:07:28.454 +03:00 [DBG] Connection id "0HNFMUM8UNAQH" stopped.
